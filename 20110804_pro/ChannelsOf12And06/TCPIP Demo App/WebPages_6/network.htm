<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<title>Netstone Powerview Client v2.0 </title>
<link href="common.css" rel="stylesheet" type="text/css" />
</head>

<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
  <tr class="header">
    <td class="font16"><img src="images/logo.png" width="412" height="47" /></td>
    <td width="100"></td>
    
  </tr>
</table>
<table width="100%" height="100%" border="0" cellpadding="0" cellspacing="0">
  <tr>
    <td width="200" valign="top" class="tleft">
	<table width="100%" border="0" cellspacing="0" cellpadding="10" class="menu">
      <tr>
        <td ><a href="index.htm">首 页</a></td>
      </tr>
      <tr>
        <td class="current"><a href="network.htm">网络设置</a></td>
      </tr>
      <tr>
        <td><a href="password.htm">修改密码</a></td>
      </tr>
    </table></td>
    <td valign="top" class="tright">
	<form id="network" name="network" method="post" action="network.htm">
      <div class="tagname"><span class="dot02"></span>网络设置</div>
      <table width="100%" border="0" cellspacing="0" cellpadding="0">
        <tr>
          <td width="13%" height="40">IP：</td>
          <td width="87%"><input id="ip[0]" name="ip[0]" type="text" class="input_txt" value=~config_ip~ size="20" onblur="return f_check_IP('ip[0]')"/></td>
        </tr>
        <tr>
          <td height="40">子网掩码：</td>
          <td><input id="ip[1]" name="ip[1]" type="text" class="input_txt" value=~config_subnet~ size="20" onblur="return f_check_IP('ip[1]')"/></td>
        </tr>
        <tr>
          <td height="40">网关：</td>
          <td><input id="ip[2]" name="ip[2]" type="text" class="input_txt" value=~config_gw~ size="20" onblur="return f_check_IP('ip[2]')"/></td>
        </tr>
      </table>
      <p>
	<input type="button" class="btn" name="Submit" value=" 保存 " onclick='check()'/>	
      </p>
      </form>

      <p>&nbsp;</p>
    <p>&nbsp;</p></td>
  </tr>
</table>
</body>
<script language="javascript">
function check()    
{  

   var ip;
   var x=0;
   for (i=0;i<=2;i++)
   {
	ip = document.getElementById('ip['+i+']').value;
	if(ip=="")
	{
       	    x=x+1; 
	}	
   }
   if(x>0)
   {
	alert("输入地址不能为空，请填写完整地址");
	return;
   }
   if(confirm("修改IP可能导致设备访问地址变更或网络访问异常，请谨慎操作！"))
   {
	ip=document.getElementById('ip[0]').value;
	alert("网络设置修改成功，IP："+ip+",请重新在浏览器地址栏中重新输入新IP地址进行访问!");
   }
   else
	 return;
   document.network.submit();
   return;
}

function f_check_IP(input_id)    
{  var ip = document.getElementById(input_id).value;
   var re=/^(\d+)\.(\d+)\.(\d+)\.(\d+)$/;//正则表达式   
   if(re.test(ip))   
   {   
       if( RegExp.$1<256 && RegExp.$2<256 && RegExp.$3<256 && RegExp.$4<256) 
       return true;   
   }   
   alert("格式错误，请重新输入！");   
   document.getElementById(input_id).value="";
   return false;
   
}
</script>
</html>
